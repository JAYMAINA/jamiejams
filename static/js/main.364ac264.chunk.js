(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{42:function(e,n,t){e.exports=t.p+"static/media/textured_background_green.0119cb90.jpg"},43:function(e,n,t){e.exports=t.p+"static/media/y.89c0c5ef.svg"},47:function(e,n,t){e.exports=t.p+"static/media/jamie.0f4d71c1.svg"},48:function(e,n,t){e.exports=t.p+"static/media/100-fireworks.e9a77e7b.gif"},49:function(e,n,t){e.exports=t.p+"static/media/add2.d31c69da.mp3"},50:function(e,n,t){e.exports=t.p+"static/media/remove2.120df319.mp3"},51:function(e,n,t){e.exports=t.p+"static/media/cassette.9ea9d06a.png"},53:function(e,n,t){e.exports=t.p+"static/media/wrong.47687ae3.mp3"},54:function(e,n,t){e.exports=t.p+"static/media/correct.ea8e8063.mp3"},55:function(e,n,t){e.exports=t.p+"static/media/success.0c5e0bb9.mp3"},56:function(e,n,t){e.exports=t(77)},61:function(e,n,t){},77:function(e,n,t){"use strict";t.r(n);var a=t(1),o=t.n(a),r=t(41),i=t.n(r),l=(t(61),t(7)),c=Object(a.createContext)(null),s=l.initializeApp({apiKey:"AIzaSyCvDktR2m3-rIU3ddPsLkqT2Yfp4EASteA",authDomain:"you-beat-me-to-it.firebaseapp.com",databaseURL:"https://you-beat-me-to-it.firebaseio.com",projectId:"you-beat-me-to-it",storageBucket:"you-beat-me-to-it.appspot.com",messagingSenderId:"1075878771170",appId:"1:1075878771170:web:253cca6ef4a7e1e7a8e1bb"}),u=function(e){var n=e.children;return o.a.createElement(c.Provider,{firebaseApp:s},n)},d=t(5),m=o.a.createContext(null),p=function(e){var n=e.children,t=o.a.useState(null),a=Object(d.a)(t,2),r=a[0],i=a[1],c=o.a.useState(null),s=Object(d.a)(c,2),u=s[0],p=s[1],f=o.a.useState(null),b=Object(d.a)(f,2),h=b[0],g=b[1],x=o.a.useState({artist:!1,songName:!1,time:null}),y=Object(d.a)(x,2),j=y[0],v=y[1],E=o.a.useState({}),O=Object(d.a)(E,2),w=O[0],k=O[1],P=o.a.useState(void 0),R=Object(d.a)(P,2),S=R[0],C=R[1];return console.log("isHostPresentContext",S),console.log("currentRoomId",r),o.a.useEffect((function(){if(u&&h){var e=l.database().ref("Rooms/".concat(r));1===h.length?e.onDisconnect().remove():e.onDisconnect().cancel(),l.database().ref("Rooms/".concat(r,"/players/").concat(u.playerId)).onDisconnect().remove()}}),[u,r,h]),o.a.useEffect((function(){r&&l.database().ref("Rooms/".concat(r,"/players")).on("value",(function(e){var n=e.val();if(console.log("players",n),null===n&&C(!1),n){var t=Object.values(n).sort((function(e,n){return n.points-e.points})),a=t.find((function(e){if("host"===e.role)return!0}));console.log("host",a),C(!!a),g(t)}}))}),[g,r]),o.a.useEffect((function(){l.database().ref("Rooms/".concat(r,"/currentTrack/correctGuesses")).on("value",(function(e){k(e.val())}))}),[r]),o.a.createElement(m.Provider,{value:{currentUser:u,setCurrentUser:p,usersList:h,setUsersList:g,correctGuess:j,setCorrectGuess:v,setCurrentRoomId:i,currentTrackGuesses:w,isHostPresent:S}},n)},f=t(16),b=t(18),h=o.a.createContext(null),g={searchResults:null,selectedPlaylist:{},loadState:"idle"};function x(e,n){switch(n.type){case"start-search":return Object(b.a)(Object(b.a)({},e),{},{loadState:"loading"});case"receive-playlists":return Object(b.a)(Object(b.a)({},e),{},{searchResults:n.playlist,loadState:"idle"});case"select-playlist":var t=Object(f.a)({},n.playlist.id,n.playlist);return Object(b.a)(Object(b.a)({},e),{},{selectedPlaylist:t});case"delete-playlist":return Object(b.a)(Object(b.a)({},e),{},{selectedPlaylist:{}});default:throw new Error("Unrecognized Action")}}var y,j,v,E,O,w,k,P,R,S,C,I,z,N,T,U,G,A,L,_,J,Y,X,H,q,D,M,F,W,K,V,B=function(e){var n=e.children,t=o.a.useReducer(x,g),a=Object(d.a)(t,2),r=a[0],i=a[1],c=o.a.useState(null),s=Object(d.a)(c,2),u=s[0],m=s[1],p=o.a.useState("lobby"),f=Object(d.a)(p,2),b=f[0],y=f[1],j=o.a.useState(null),v=Object(d.a)(j,2),E=v[0],O=v[1];o.a.useEffect((function(){var e=l.database().ref("Rooms/".concat(u,"/roomLocation"));return e.on("value",(function(e){var n=e.val();y(n)})),function(){e.off()}}),[u,b]);return o.a.createElement(h.Provider,{value:{playlistState:r,startSearch:function(){i({type:"start-search"})},receivePlaylists:function(e){i({type:"receive-playlists",playlist:e})},selectPlaylist:function(e){i({type:"select-playlist",playlist:e})},deletePlaylist:function(e){i({type:"delete-playlist"})},roomIdState:u,setRoomId:m,location:b,roomExists:E,setRoomExists:O}},n)},Q=t(33),Z=o.a.createContext(null),$=function(e){var n=e.children,t=o.a.useState(null),a=Object(d.a)(t,2),r=a[0],i=a[1],c=o.a.useState(null),s=Object(d.a)(c,2),u=s[0],m=s[1],p=o.a.useState(null),f=Object(d.a)(p,2),b=f[0],h=f[1],g=o.a.useState([]),x=Object(d.a)(g,2),y=x[0],j=x[1],v=o.a.useState(null),E=Object(d.a)(v,2),O=E[0],w=E[1],k=o.a.useState(0),P=Object(d.a)(k,2),R=P[0],S=P[1],C=o.a.useState(null),I=Object(d.a)(C,2),z=I[0],N=I[1],T=o.a.useState(void 0),U=Object(d.a)(T,2),G=U[0],A=U[1],L=o.a.useState(!1),_=Object(d.a)(L,2),J=_[0],Y=_[1];return console.log("inContextPhase",u),o.a.useEffect((function(){return l.database().ref("Rooms/".concat(z,"/round")).on("value",(function(e){S(e.val())})),function(){l.database().ref("Rooms/".concat(z,"/round")).off()}}),[z]),o.a.useEffect((function(){b&&j([].concat(Object(Q.a)(y),[b]))}),[b]),o.a.createElement(Z.Provider,{value:{trackUrl:r,setTrackUrl:i,gamePhase:u,setGamePhase:m,trackInfo:b,setTrackInfo:h,result:O,setResult:w,historyArray:y,setHistoryArray:j,round:R,setRound:S,setRoomId:N,gameRoomExists:G,setGameRoomExists:A,gameStarted:J,setGameStarted:Y}},n)},ee=t(11),ne=t(8),te=t(3),ae=t(4),oe={main:"#19533c",secondary:"#000",tertiary:"#19533c",midnight:"#fff0c3"},re=t(42),ie=t.n(re),le=t(43),ce=t.n(le),se=ae.b.div(y||(y=Object(te.a)(["\n  background-color: ",";\n  position: relative;\n  overflow: hidden;\n  background-size: cover;\n  \n"])),oe.main),ue=(ae.b.div(j||(j=Object(te.a)(["\n  width: 500px;\n  height: 800px;\n  border-radius: 50%;\n  transform: rotate(20deg);\n  position: absolute;\n  top: -400px;\n  left: -100px;\n  background-color: ",";\n"])),oe.secondary),ae.b.div(v||(v=Object(te.a)(["\n  width: 500px;\n  height: 500px;\n  transform: rotate(55deg);\n  position: absolute;\n  bottom: -450px;\n  right: 300px;\n  background-color: ",";\n"])),oe.tertiary),ae.b.div(E||(E=Object(te.a)(["\n  border-bottom: 400px solid ",";\n  border-left: 55px solid transparent;\n  border-right: 55px solid transparent;\n  height: 0px;\n  width: 350px;\n  position: absolute;\n  right: -150px;\n  top: 20%;\n  transform: rotate(70deg);\n"])),oe.midnight),ae.b.div(O||(O=Object(te.a)(["\n  position: relative;\n  z-index: 3;\n  min-height: 100vh;\n"])))),de=ae.b.div(w||(w=Object(te.a)(["\n  position: absolute;\n  color: white;\n  right: 15px;\n  bottom: 15px;\n  font-size: 20px;\n  z-index: 3;\n"]))),me=ae.b.a(k||(k=Object(te.a)(["\n  color: white;\n  cursor: pointer;\n  text-decoration: none;\n  margin-left: 5px;\n"]))),pe=function(e){var n=e.children;return o.a.createElement(se,{style:{backgroundImage:"url(".concat(ie.a,")")}},o.a.createElement(ue,null,n),o.a.createElement(de,null,o.a.createElement(me,{href:"https://freetoair.now.sh",target:"_blank"},o.a.createElement("img",{src:ce.a,alt:"Logo",style:{height:30}}))))},fe=t(47),be=t.n(fe),he=ae.b.a(P||(P=Object(te.a)(['\n  display: block;\n  text-decoration: none;\n  position: relative;\n  text-align: center;\n  width: fit-content;\n  color: white;\n  font-size: 100px;\n  font-family: "Echizen";\n  margin: 0 auto;\n  margin-top: 25px;\n  margin-bottom: 50px;\n  text-shadow: 2px 2px 0px ',";\n  line-height: 70%;\n  cursor: pointer;\n"])),oe.midnight),ge=(ae.b.div(R||(R=Object(te.a)(["\n  /* background: linear-gradient(\n    to right,\n    ",",\n    ","\n  ); */\n  display: block;\n  width: fit-content;\n  margin: 0 auto;\n  /* transform: skew(9deg); */\n  padding: 0px 5px;\n  color: ",";\n  text-shadow: 2px 2px 0px white;\n  /* border-bottom: 5px solid ",'; */\n  font-family: "Echizen";\n'])),oe.tertiary,oe.secondary,oe.midnight,oe.midnight),ae.b.div(S||(S=Object(te.a)(["\n  width: 0;\n  height: 0;\n  border-left: 150px solid transparent;\n  border-right: 150px solid transparent;\n  border-bottom: 250px solid #ff33be;\n  /* border-bottom: 250px solid ","; */\n  position: absolute;\n  z-index: -3;\n  top: -20px;\n  left: -20px;\n"])),oe.tertiary),function(){return o.a.createElement(he,{href:"/"},o.a.createElement("img",{src:be.a,alt:"Logo",style:{height:90}}))}),xe=ae.b.div(C||(C=Object(te.a)(["\n  transform: skew(9deg);\n  background: transparent;\n  font-size: 40px;\n  padding: 5px;\n  display: flex;\n  margin-bottom: 10px;\n"]))),ye=ae.b.div(I||(I=Object(te.a)(["\n  transform: skew(-9deg);\n  font-weight: 700;\n  color: #fff0c3;\n"]))),je=function(e){var n=e.children;return o.a.createElement(xe,null,o.a.createElement(ye,null,n))},ve=function(e){var n=e.children,t=e.handler,a=e.disabled;return o.a.createElement(Ee,{onClick:t,disabled:a},n)},Ee=ae.b.button(z||(z=Object(te.a)(["\n  height: 50px;\n  border-radius: 30px;\n  font-weight: 700;\n  padding: 5px 20px;\n  font-size: 20px;\n  cursor: pointer;\n  color: white;\n  border: none;\n  background: #000;\n  backdrop-filter: none;\n  transition: filter 0.3s;\n\n  :hover {\n    filter: saturate(150%);\n  }\n"]))),Oe=t(17),we=function(e){var n=e.size,t=e.color;return o.a.createElement(ke,{color:t},o.a.createElement(Re,{size:n}))},ke=ae.b.div(N||(N=Object(te.a)(["\n  display: flex;\n  justify-content: center;\n  width: 100%;\n  color: ",";\n"])),(function(e){return e.color})),Pe=Object(ae.c)(T||(T=Object(te.a)(["\nfrom{\n  transform: rotate(0deg)\n}to{\n  transform: rotate(360deg)\n}"]))),Re=Object(ae.b)(Oe.a)(U||(U=Object(te.a)(["\n  animation: "," 2000ms linear infinite;\n"])),Pe),Se=t(48),Ce=t.n(Se),Ie=ae.b.div(G||(G=Object(te.a)(["\n  display: flex;\n  margin-top: 30px;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  \n"]))),ze=ae.b.input(A||(A=Object(te.a)(["\n  width: 300px;\n  height: 50px;\n  color: black;\n  border-radius: 30px;\n  border: none;\n  text-align: center;\n  font-size: 40px;\n  margin-bottom: 15px;\n  \n\n  :focus {\n    outline: none;\n    box-shadow: 0 0 5px black;\n  }\n"]))),Ne=ae.b.div(L||(L=Object(te.a)(["\n  font-size: 20px;\n  color: white;\n"]))),Te=function(e){var n=e.buttonHandler,t=e.buttonMessage;console.log("inSignIn");var a=o.a.useState(""),r=Object(d.a)(a,2),i=r[0],l=r[1],c=o.a.useState(!1),s=Object(d.a)(c,2),u=s[0],p=s[1],f=o.a.useState(!1),b=Object(d.a)(f,2),h=b[0],g=b[1],x=o.a.useContext(m).setCurrentUser,y=Object(ne.f)(),j=Object(ne.g)().roomId;return o.a.createElement(Ie,null,o.a.createElement("img",{src:Ce.a,alt:"Logo",style:{height:300}}),o.a.createElement(je,null,"Username:"),o.a.createElement(ze,{value:i,onKeyDown:function(e){"Enter"===e.key&&i.length>=1&&!u&&(p(!0),n({nickName:i,setNickName:l,setCurrentUser:x,history:y,roomId:j,setLoading:p,setError:g}))},onChange:function(e){e.target.value.length>30||l(e.target.value)}}),o.a.createElement(ve,{disabled:i.length<1||u,handler:function(){p(!0),n({nickName:i,setNickName:l,setCurrentUser:x,history:y,roomId:j,setLoading:p,setError:g})}},u?o.a.createElement(we,null):t),h&&o.a.createElement(Ne,null,"Something went wrong, please refresh and try again"))},Ue=function(e){var n=e.nickName,t=e.setNickName,a=e.setCurrentUser,o=e.history,r=e.setLoading,i=e.setError;r(!0),fetch("https://you-beat-me-to-it.herokuapp.com/createRoom",{method:"POST",body:JSON.stringify({nickName:n}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){if(!e.ok)throw new Error("Something went wrong, refresh and try again");return e.json()})).then((function(e){console.log(e),t(""),a(e.userInfo),r(!1),o.push("/lobby/".concat(e.roomInfo.roomId))})).catch((function(e){r(!1),i(e),console.log(e)}))},Ge=function(e){var n=e.nickName,t=e.setNickName,a=e.setCurrentUser,o=(e.history,e.roomId),r=e.setLoading,i=e.setError;r(!0),fetch("https://you-beat-me-to-it.herokuapp.com/".concat(o,"/createUser"),{method:"POST",body:JSON.stringify({nickName:n}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){if(!e.ok)throw new Error("Something went wrong, please try again");return e.json()})).then((function(e){t(""),r(!1),a(e.userInfo)})).catch((function(e){r(!1),i(e),console.log(e)}))},Ae=t(20),Le=t.n(Ae),_e=t(28),Je=function(e){var n=e.setIsOpen,t=o.a.useContext(h),a=t.playlistState,r=t.selectPlaylist,i=o.a.useState("open"),l=Object(d.a)(i,2),c=l[0],s=l[1];return 0===a.searchResults.length?o.a.createElement(He,{style:{height:"50px",display:"flex",alignItems:"center"},animation:c,onAnimationEnd:function(){"close"===c&&n(!1)}},"No Results found"):o.a.createElement(He,{animation:c,onAnimationEnd:function(){"close"===c&&n(!1)}},a.searchResults.map((function(e){return o.a.createElement(qe,{key:e.id,onClick:function(){r(e),s("close")}},o.a.createElement(De,{src:e.picture_medium}),o.a.createElement(Me,null,o.a.createElement(Fe,null,e.title),o.a.createElement(We,null,e.nb_tracks," tracks")))})))},Ye=Object(ae.c)(_||(_=Object(te.a)(["\nfrom{\n  transform: scaleY(0)\n}to{\n  transform: scaleY(1)\n}\n"]))),Xe=Object(ae.c)(J||(J=Object(te.a)(["\nfrom{\n  transform: scaleY(1)\n}to{\n  transform: scaleY(0)\n}\n"]))),He=ae.b.div(Y||(Y=Object(te.a)(["\n  width: 50%;\n  border-radius: 10px;\n  padding: 10px;\n  font-size: 30px;\n  max-height: 300px;\n  overflow: scroll;\n  color: black;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  background: transparent;\n  margin-bottom: 15px;\n  overflow-x: hidden;\n  transform-origin: top;\n  animation: "," 220ms\n    ease-in-out;\n  animation-fill-mode: forwards;\n"])),(function(e){return"open"===e.animation?Ye:Xe})),qe=ae.b.div(X||(X=Object(te.a)(["\n  width: 50%;\n  display: flex;\n  padding: 10px;\n  cursor: pointer;\n  :hover {\n    background: #eadaf0;\n  }\n"]))),De=ae.b.img(H||(H=Object(te.a)(["\n  width: 75px;\n  height: 75px;\n  margin-right: 10px;\n"]))),Me=ae.b.div(q||(q=Object(te.a)(["\n  width: 100%;\n"]))),Fe=ae.b.div(D||(D=Object(te.a)(["\n  width: 90%;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"]))),We=ae.b.p(M||(M=Object(te.a)(["\n  font-size: 70%;\n  font-weight: 400;\n  color: lightgrey;\n"]))),Ke="https://you-beat-me-to-it.herokuapp.com";var Ve,Be,Qe,Ze,$e,en,nn,tn,an,on,rn,ln,cn,sn=function(){var e=o.a.useState(""),n=Object(d.a)(e,2),t=n[0],a=n[1],r=o.a.useState("false"),i=Object(d.a)(r,2),l=i[0],c=i[1],s=o.a.useContext(h),u=s.playlistState,m=s.startSearch,p=s.receivePlaylists;return o.a.createElement(un,null,o.a.createElement(je,null,"Search for a playlist:"),o.a.createElement(dn,null,o.a.createElement(pn,{value:t,placeholder:"Eg: Jamie Jams",onChange:function(e){return a(e.target.value)},onKeyDown:function(e){switch(e.key){case"Enter":if(t.length>1){m();var n=function(e){return e.split(" ").join("%20")}(t);fetch("".concat(Ke,"/searchPlaylist?searchTerm=").concat(n),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){p(e.searchResults),c(!0)}))}}}}),"loading"===u.loadState&&o.a.createElement(mn,null,o.a.createElement(we,{size:35,color:"grey"}))),"idle"===u.loadState&&null!==u.searchResults&&!0===l?o.a.createElement(Je,{setIsOpen:c}):null)},un=ae.b.div(F||(F=Object(te.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  width: 100%;\n"]))),dn=ae.b.div(W||(W=Object(te.a)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n  width: 100%;\n  position: relative;\n"]))),mn=ae.b.div(K||(K=Object(te.a)(["\n  width: fit-content;\n  position: absolute;\n  align-items: center;\n  right: 650px;\n  top: 20px;\n"]))),pn=ae.b.input(V||(V=Object(te.a)(["\n  width: 50%;\n  height: 55px;\n  color: black;\n  border-radius: 40px;\n  border: none;\n  left:50%;\n  text-align: left;\n  font-size: 40px;\n  padding: 0 30px;\n  margin-top: 10px;\n  \n  \n\n  :focus {\n    outline: none;\n    border: 1px solid red;\n  }\n\n  &::placeholder {\n    color: #eadaf0;\n  }\n"]))),fn=function(){var e=o.a.useContext(h),n=e.playlistState,t=e.deletePlaylist,a=Object(ne.g)().roomId;return o.a.useEffect((function(){fetch("".concat(Ke,"/updatePlaylist"),{method:"PUT",body:JSON.stringify({selectedPlaylist:n.selectedPlaylist,roomId:a}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return console.log(e)}))}),[n.selectedPlaylist,a]),o.a.createElement(bn,null,o.a.createElement(je,null,"Selected Playlist:"),Object.values(n.selectedPlaylist).map((function(e){return o.a.createElement(hn,{key:e.id,onClick:function(){}},o.a.createElement(gn,{src:e.picture_medium}),o.a.createElement(xn,null,o.a.createElement(yn,null,e.title),o.a.createElement(jn,null,e.nb_tracks," tracks")),o.a.createElement(vn,{onClick:function(n){t(e)}},o.a.createElement(Oe.f,{size:35,color:"lightgray"})))})))},bn=ae.b.div(Ve||(Ve=Object(te.a)(["\n  max-width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  font-size: 30px;\n  padding-right: 20px;\n"]))),hn=ae.b.div(Be||(Be=Object(te.a)(["\n  background: transparent;\n  border-radius: 15px;\n  width: fit-content;\n  max-width: 100%;\n  display: flex;\n  padding: 10px;\n  position: relative;\n  min-width: 50%;\n"]))),gn=ae.b.img(Qe||(Qe=Object(te.a)(["\n  width: 75px;\n  height: 75px;\n  margin-right: 10px;\n  border-radius: 50%;\n"]))),xn=ae.b.div(Ze||(Ze=Object(te.a)(["\n  width: 100%;\n"]))),yn=ae.b.div($e||($e=Object(te.a)(["\n  width: 80%;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"]))),jn=ae.b.p(en||(en=Object(te.a)(["\n  font-size: 70%;\n  font-weight: 10;\n  color: lightgrey;\n"]))),vn=ae.b.button(nn||(nn=Object(te.a)(["\n  color: red;\n  position: absolute;\n  border: none;\n  cursor: pointer;\n  top: 0;\n  right: 0;\n  background: none;\n"]))),En=t(23),On=t(49),wn=t.n(On),kn=t(50),Pn=t.n(kn);var Rn,Sn,Cn,In,zn,Nn,Tn,Un,Gn,An,Ln,_n,Jn,Yn,Xn,Hn,qn,Dn,Mn,Fn,Wn,Kn,Vn,Bn,Qn,Zn,$n,et,nt,tt,at,ot,rt,it,lt,ct,st,ut,dt,mt,pt,ft,bt,ht,gt,xt,yt,jt,vt,Et=function(e){var n=e.addUserRef,t=e.removeUserRef,r=o.a.useContext(m),i=r.usersList,l=r.currentUser,c=r.setCurrentRoomId,s=function(e){var n=Object(a.useRef)();return o.a.useEffect((function(){n.current=e}),[e]),n.current}(i),u=Object(ne.g)().roomId,p=o.a.useState(!1),f=Object(d.a)(p,2),b=f[0],h=f[1];return o.a.useEffect((function(){s&&(s.length>i.length?(console.log("lost a player"),t.current.play()):(console.log("won a player"),n.current.play()))}),[i,n]),o.a.useEffect((function(){c(u)}),[u]),o.a.createElement(Ot,null,o.a.createElement("audio",{src:wn.a,ref:n}),o.a.createElement("audio",{src:Pn.a,ref:t}),o.a.createElement(je,null,"Players:"),null!==i?o.a.createElement(wt,null,i.map((function(e,n){return o.a.createElement(kt,{key:e.nickName+n,style:{color:"".concat(l.playerId===e.playerId?oe.midnight:"black")}},"host"===e.role?o.a.createElement(Pt,null,o.a.createElement(En.a,null)):null,e.nickName)})),o.a.createElement(St,{isCopied:b,onClick:function(){h(!0),navigator.clipboard.writeText(window.location)},onAnimationEnd:function(){h(!1)}},b?"Copied !":"Share Invite Link")):null)},Ot=ae.b.div(tn||(tn=Object(te.a)(["\n  max-width: 100%;\n  display: flex;\n\n  flex-direction: column;\n  align-items: flex-start;\n  font-size: 30px;\n"]))),wt=ae.b.div(an||(an=Object(te.a)(["\n  background: transparent;\n  border-radius: 15px;\n  padding: 10px 30px;\n  min-width: 50%;\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  align-items: center;\n"]))),kt=ae.b.div(on||(on=Object(te.a)(["\n  margin-bottom: 5px;\n  position: relative;\n"]))),Pt=ae.b.div(rn||(rn=Object(te.a)(["\n  width: fit-content;\n  position: absolute;\n  left: 0;\n  transform: translateX(-100%);\n  margin: 0;\n"]))),Rt=Object(ae.c)(ln||(ln=Object(te.a)(["\n0%{\n  background-position: 0% 0%;\n  );\n}20%{\n  background-position: 100% 0%;\n} 80% {\n  background-position: 100% 0%;\n}\n100%{\n  background-position: 0% 0%;\n}"]))),St=ae.b.button(cn||(cn=Object(te.a)(["\n  height: 50px;\n  margin-top:20px;\n  border-radius: 30px;\n  font-weight: 700;\n  width: 80%;\n  padding: 5px 20px;\n  font-size: 20px;\n  cursor: pointer;\n  color: white;\n  border: none;\n  background: #000;\n  background-size: 300% 100%;\n  overflow: hidden;\n  animation: "," 2000ms\n    ease-in-out;\n\n  :focus {\n    outline: none;\n  }\n"])),(function(e){return e.isCopied?Rt:null})),Ct=function(){var e=o.a.useContext(h),n=e.playlistState,t=e.selectPlaylist,a=e.deletePlaylist,r=Object(ne.g)().roomId;return o.a.useEffect((function(){l.database().ref("Rooms/".concat(r,"/selectedPlaylist")).on("value",(function(e){var n=e.val();!1===n?a():n&&t(Object.values(n)[0])}))}),[r]),o.a.createElement(It,null,o.a.createElement(je,null,"Selected Playlist:"),Object.values(n.selectedPlaylist).map((function(e){return o.a.createElement(zt,{key:e.id},o.a.createElement(Nt,{src:e.picture_medium}),o.a.createElement(Tt,null,o.a.createElement(Ut,null,e.title),o.a.createElement(Gt,null,e.nb_tracks," tracks")))})))},It=ae.b.div(Rn||(Rn=Object(te.a)(["\n  max-width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  font-size: 30px;\n  padding-right: 20px;\n"]))),zt=ae.b.div(Sn||(Sn=Object(te.a)(["\n  background: transparent;\n  border-radius: 15px;\n  width: fit-content;\n  max-width: 100%;\n  display: flex;\n  padding: 10px;\n  position: relative;\n  min-width: 50%;\n"]))),Nt=ae.b.img(Cn||(Cn=Object(te.a)(["\n  width: 75px;\n  height: 75px;\n  margin-right: 10px;\n"]))),Tt=ae.b.div(In||(In=Object(te.a)(["\n  width: 100%;\n"]))),Ut=ae.b.div(zn||(zn=Object(te.a)(["\n  width: 80%;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"]))),Gt=ae.b.p(Nn||(Nn=Object(te.a)(["\n  font-size: 70%;\n  font-weight: 400;\n  color: lightgrey;\n"]))),At=function(e){var n=e.volume,t=e.setVolume;return o.a.createElement(_t,null,o.a.createElement(Jt,{onClick:function(){n>0?t(0):0!==n||t(.5)}},.5===n&&o.a.createElement(Oe.b,{size:35}),0===n&&o.a.createElement(Oe.e,{size:35}),n<.5&&n>0&&o.a.createElement(Oe.c,{size:35}),n>.5&&o.a.createElement(Oe.d,{size:35})),o.a.createElement(Lt,{type:"range",min:"0",max:"100",value:100*n,onChange:function(e){t(e.target.value/100)}}))},Lt=ae.b.input(Tn||(Tn=Object(te.a)(["\n  width: 100%;\n"]))),_t=ae.b.div(Un||(Un=Object(te.a)(["\n  display: flex;\n  padding: 5px;\n  align-items: center;\n  background: transparent;\n  border-radius: 10px;\n  width: 55px;\n  transition: width 1s, opacity 1s;\n  margin-bottom: 15px;\n  position: absolute;\n  top: 0;\n  left: 40px;\n\n  input:nth-child(2) {\n    opacity: 0;\n    transition: opacity 0.8s;\n  }\n\n  :hover {\n    width: 200px;\n    input:nth-child(2) {\n      opacity: 1;\n    }\n  }\n"]))),Jt=ae.b.button(Gn||(Gn=Object(te.a)(["\n  background: none;\n  border: none;\n  width: 50px;\n  height: 50px;\n  cursor: pointer;\n  color: #fff0c3;\n\n  :focus {\n    outline: none;\n  }\n"]))),Yt=function(){var e=Object(_e.a)(Le.a.mark((function e(n,t){var a;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,a){fetch("".concat(Ke,"/validatePlaylist"),{method:"PUT",body:JSON.stringify({roomId:n,selectedPlaylist:t}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(n){console.log(n),e(n)})).catch((function(e){console.log(e),a(e)}))}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),Xt=ae.b.div(An||(An=Object(te.a)(["\n  margin-top: 50px;\n  display: flex;\n  flex-direction: column;\n  padding: 0 40px;\n  /* align-items: center; */\n"]))),Ht=ae.b.div(Ln||(Ln=Object(te.a)(["\n  margin-top: 20px;\n  width: 100%;\n  display: grid;\n  grid-template-columns: 50% 50%;\n"]))),qt=ae.b.div(_n||(_n=Object(te.a)(["\n  margin: 50px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  position: relative;\n"]))),Dt=ae.b.button(Jn||(Jn=Object(te.a)(['\n  border-radius: 30px;\n  /* font-weight: 700; */\n  /* font-family: "Echizen"; */\n  font-size: 40px;\n  padding: 5px 20px;\n  cursor: pointer;\n  color: white;\n  border: none;\n  background: #000;\n  transition: filter 0.3s;\n\n  :hover {\n    filter: saturate(150%);\n  }\n  :focus {\n    outline: none;\n    border: 1px solid white;\n    border-radius: 30px;\n  }\n']))),Mt=Object(ae.c)(Yn||(Yn=Object(te.a)(["\nfrom{\n  opacity: 0;\n  transform: translateY(100%)\n}to{\n  opacity: 1;\n  transform: translateY(0%)\n}"]))),Ft=ae.b.div(Xn||(Xn=Object(te.a)(["\n  font-size: 20px;\n  color: white;\n  animation: "," 200ms ease-in-out;\n  position: absolute;\n  top: -25px;\n"])),Mt),Wt=ae.b.div(Hn||(Hn=Object(te.a)(["\n  \n  font-size: 60px;\n  text-align: center;\n  color: #fff0c3;\n  margin: 50px 0;\n  text-shadow: 2px 2px 2px ",";\n"])),oe.midnight),Kt=function(){var e=o.a.useState(!1),n=Object(d.a)(e,2),t=n[0],a=n[1],r=o.a.useState(!1),i=Object(d.a)(r,2),l=i[0],c=i[1],s=o.a.useContext(m).currentUser,u=o.a.useContext(h),p=u.playlistState,f=u.location,b=o.a.useContext(Z).gameStarted,g=Object(ne.g)().roomId,x=Object(ne.f)(),y=o.a.useRef(null),j=o.a.useRef(null),v=o.a.useState(.5),E=Object(d.a)(v,2),O=E[0],w=E[1];return o.a.useEffect((function(){y.current&&j.current&&(y.current.volume=O,j.current.volume=O)}),[y,j,O]),o.a.useEffect((function(){"gameRoom"===f&&!1===b&&x.push("/gameroom/".concat(g))}),[g,f]),"player"===s.role?o.a.createElement(Xt,null,o.a.createElement(At,{volume:O,setVolume:w}),o.a.createElement(Ht,null,o.a.createElement(Ct,null),o.a.createElement(Et,{addUserRef:y,removeUserRef:j})),o.a.createElement(Wt,null,"Please wait for the host to select a playlist and to start game ...")):o.a.createElement(Xt,null,o.a.createElement(At,{volume:O,setVolume:w}),o.a.createElement(sn,null),o.a.createElement(Ht,null,o.a.createElement(fn,null),o.a.createElement(Et,{removeUserRef:j,addUserRef:y})),o.a.createElement(qt,null,l&&o.a.createElement(Ft,null,"Please select a playlist"),o.a.createElement(Dt,{onClick:Object(_e.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Object.keys(p.selectedPlaylist).length>0)){e.next=7;break}return c(!1),a(!0),e.next=5,Yt(g,p.selectedPlaylist);case 5:e.next=8;break;case 7:c(!0);case 8:case"end":return e.stop()}}),e)})))},t?o.a.createElement(we,null):"Start Game")))},Vt=function(e){var n=e.title,t=e.message,a=e.spinner;return o.a.createElement(Bt,null,o.a.createElement(je,null,n),o.a.createElement(Qt,null,t),a&&o.a.createElement(we,{color:oe.midnight,size:40}))},Bt=ae.b.div(qn||(qn=Object(te.a)(["\n  margin-top: 50px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]))),Qt=ae.b.div(Dn||(Dn=Object(te.a)(["\n  margin-top: 5px;\n  color: #fff0c3;\n  font-size: 40px;\n  width: 60%;\n  text-align: center;\n"]))),Zt=function(){var e=Object(ne.g)().roomId,n=o.a.useContext(Z),t=n.round,a=n.setRoomId;return o.a.useEffect((function(){a(e)}),[]),o.a.createElement($t,null,o.a.createElement(je,null,"The Game is in Progress"),o.a.createElement(ea,null,"Please be patient while the game is in progress. You will be able to join when the game ends and the host returns to the lobby."),o.a.createElement(na,null,"The game you are trying to join is on round :"," ",o.a.createElement(ta,null," ",t<=9?t+1:t,"/10")),o.a.createElement(we,{color:oe.midnight,size:40}))},$t=ae.b.div(Mn||(Mn=Object(te.a)(["\n  margin-top: 50px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]))),ea=ae.b.div(Fn||(Fn=Object(te.a)(["\n  margin-top: 5px;\n  color: #fff0c3;\n  color: white;\n  font-size: 40px;\n  width: 60%;\n  text-align: center;\n"]))),na=ae.b.div(Wn||(Wn=Object(te.a)(["\n  margin-top: 10px;\n  color: #fff0c3;\n  color: white;\n  font-size: 40px;\n  width: 60%;\n  text-align: center;\n"]))),ta=ae.b.span(Kn||(Kn=Object(te.a)(["\n  font-size: 40px;\n  color: #fff0c3;\n  text-shadow: 2px 2px white;\n  \n"]))),aa=function(){var e=o.a.useContext(m),n=e.currentUser,t=e.isHostPresent,a=e.setCurrentRoomId,r=o.a.useContext(h),i=r.setRoomId,c=r.roomExists,s=r.setRoomExists,u=r.location,d=Object(ne.g)().roomId,p=Object(ne.f)();return o.a.useEffect((function(){var e=l.database().ref("Rooms/".concat(d));return e.on("value",(function(e){s(e.exists())})),function(){e.off()}}),[d]),o.a.useEffect((function(){i(d),a(d)}),[d]),o.a.useEffect((function(){return console.log(p.action),function(){if(console.log(p.action),"POP"===p.action&&"lobby"===u)return p.push("/"),void window.location.replace("/")}}),[p,u]),!1===c?o.a.createElement(Vt,{title:"404 - Room not found",message:"We're sorry, we couldn't find the room you are trying to join"}):!1===t?o.a.createElement(Vt,{title:"The host has left",message:"We're sorry, the host has left and the game has ended. Return to the homepage to start a new game."}):n||!0!==c||!0!==t||"gameRoom"!==u?n||!0!==c||!0!==t||"lobby"!==u?o.a.createElement(o.a.Fragment,null,!0===c&&!0===t&&n?o.a.createElement(Kt,null):o.a.createElement(we,{size:50,color:"lightgrey"})):o.a.createElement(Te,{buttonHandler:Ge,buttonMessage:"Join your friends game !"}):o.a.createElement(Zt,null)},oa=function(e){var n=e.time,t=o.a.useContext(Z).gamePhase,a=o.a.useContext(m).currentTrackGuesses,r=o.a.useRef(null),i=function(e){if(null!==r){var n=e*r.current.clientWidth/31;return n.toFixed(0),n}};return o.a.createElement(ra,null,o.a.createElement(ia,{gamePhase:t,ref:r,time:n}),a&&Object.values(a).map((function(e){if(e.artist&&e.songName)return o.a.createElement(la,{position:i(e.time),key:e.nickName},e.nickName,o.a.createElement(ca,null))})))},ra=ae.b.div(Vn||(Vn=Object(te.a)(["\n  width: 100%;\n  background: #eadaf0;\n  height: 10px;\n  border-radius: 40px;\n  margin-top: 10px;\n  position: relative;\n"]))),ia=ae.b.div(Qn||(Qn=Object(te.a)(["\n  height: 10px;\n  width: 100%;\n  border-radius: 40px;\n  background: #19533c;\n  transform-origin: right;\n  animation: ","\n    ","ms linear;\n"])),(function(e){return"playing"===e.gamePhase?(n=e.time,Object(ae.c)(Bn||(Bn=Object(te.a)(["\n0%{\n  transform:scaleX(",")\n}100%{\n  transform: scaleX(0)\n}\n"])),n/30)):null;var n}),(function(e){return 1030*e.time})),la=ae.b.div(Zn||(Zn=Object(te.a)(["\n  max-width: 150px;\n  min-width: 90px;\n  font-size: 15px;\n  text-align: center;\n  border-radius: 10px;\n  height: 30px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: white;\n  margin-top: 10px;\n  position: absolute;\n  top: 10px;\n  left: ","px;\n  transform: translateX(-50%);\n  z-index: 5;\n"])),(function(e){return e.position})),ca=ae.b.div($n||($n=Object(te.a)(["\n  position: absolute;\n  z-index: -5;\n  background: white;\n  height: 30px;\n  width: 30px;\n  transform: rotate(45deg) translateX(-20%) translateY(-20%);\n"]))),sa=t(51),ua=t.n(sa),da=function(e){var n=e.time,t=o.a.useContext(Z),a=t.result,r=t.trackInfo,i=t.gamePhase,l=o.a.useState(null),c=Object(d.a)(l,2),s=c[0],u=c[1],m=o.a.useState(null),p=Object(d.a)(m,2),f=p[0],b=p[1];return o.a.useEffect((function(){"loading"===i&&(u(null),b(null)),"success"===a&&(u(r.artist.name),b(r.title_short)),"artist"===a&&u(r.artist.name),"songName"===a&&b(r.title_short)}),[a,i]),o.a.createElement(ma,null,o.a.createElement(pa,null,o.a.createElement(ya,{src:ua.a}),o.a.createElement(ja,null,n),o.a.createElement(Oa,{gamePhase:i},o.a.createElement(wa,null,o.a.createElement(ka,null),o.a.createElement(Pa,null),o.a.createElement(Ra,null),o.a.createElement(Sa,null))),o.a.createElement(Ea,{gamePhase:i},o.a.createElement(wa,null,o.a.createElement(ka,null),o.a.createElement(Pa,null),o.a.createElement(Ra,null),o.a.createElement(Sa,null))),o.a.createElement(Ca,null,o.a.createElement(Ia,null,o.a.createElement(ga,null,f&&o.a.createElement(ba,{songName:f},f&&f)),o.a.createElement(xa,null,"/"),o.a.createElement(ga,null,s&&o.a.createElement(ha,{artist:s},s&&s))))))},ma=ae.b.div(et||(et=Object(te.a)(["\n  height: 340px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 30px;\n"]))),pa=ae.b.div(nt||(nt=Object(te.a)(["\n  display: flex;\n  justify-content: center;\n  position: relative;\n  margin-bottom: -50px;\n  /* margin-top: 50px; */\n  transform: scale(0.8);\n"]))),fa=Object(ae.c)(tt||(tt=Object(te.a)(["\nfrom{\n  width: 0;\n}\nto{\n  width: 100%;\n}"]))),ba=ae.b.div(at||(at=Object(te.a)(['\n  font-family: "Permanent Marker", cursive;\n  /* font-family: "Echizen"; */\n  color: black;\n  /* width: 250px; */\n\n  max-width: 100%;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-size: 20px;\n  transform-origin: left;\n  line-height: 2.3;\n  animation: ',"\n    500ms;\n"])),(function(e){return null!==e.songName||null!==e.artist?fa:null})),ha=ae.b.div(ot||(ot=Object(te.a)(['\n  font-family: "Permanent Marker", cursive;\n  /* font-family: "Echizen"; */\n  color: black;\n  /* width: 250px; */\n  max-width: 100%;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-size: 20px;\n  transform-origin: left;\n  line-height: 2.3;\n  animation: ',"\n    500ms ease-in-out;\n"])),(function(e){return null!==e.songName||null!==e.artist?fa:null})),ga=ae.b.div(rt||(rt=Object(te.a)(["\n  width: 50%;\n  max-width: 50%;\n"]))),xa=ae.b.div(it||(it=Object(te.a)(['\n  font-family: "Echizen";\n']))),ya=ae.b.img(lt||(lt=Object(te.a)([""]))),ja=ae.b.div(ct||(ct=Object(te.a)(["\n  width: fit-content;\n  position: absolute;\n  top: 140px;\n  font-size: 60px;\n  color: ",';\n  font-family: "Digital";\n'])),oe.midnight),va=Object(ae.c)(st||(st=Object(te.a)(["\nfrom{\n  transform: rotate(0deg)\n}to{\n  transform: rotate(360deg)\n}"]))),Ea=ae.b.div(ut||(ut=Object(te.a)(["\n  width: fit-content;\n  position: absolute;\n  top: 134px;\n  right: 141px;\n  animation: "," 2000ms linear infinite forwards;\n  animation-play-state: ",";\n"])),va,(function(e){return"playing"===e.gamePhase?"running":"paused"})),Oa=ae.b.div(dt||(dt=Object(te.a)(["\n  width: fit-content;\n  position: absolute;\n  top: 135px;\n  left: 135px;\n  /* animation: "," 2000ms\n    linear infinite forwards; */\n  animation: "," 2000ms linear infinite forwards;\n  animation-play-state: ",";\n"])),(function(e){return"playing"===e.gamePhase?va:null}),va,(function(e){return"playing"===e.gamePhase?"running":"paused"})),wa=ae.b.div(mt||(mt=Object(te.a)(["\n  position: relative;\n  width: 70px;\n  height: 70px;\n  border-radius: 50%;\n  border: 4px solid ",";\n"])),oe.midnight),ka=ae.b.div(pt||(pt=Object(te.a)(["\n  position: absolute;\n  border-left: 4px solid ",";\n  height: 15px;\n  border-radius: 3px;\n  left: 50%;\n  bottom: -3px;\n  transform: translateX(-2px);\n"])),oe.midnight),Pa=ae.b.div(ft||(ft=Object(te.a)(["\n  position: absolute;\n  border-left: 4px solid ",";\n  border-radius: 3px;\n  height: 15px;\n  left: 50%;\n  top: -3px;\n  transform: translateX(-2px);\n"])),oe.midnight),Ra=ae.b.div(bt||(bt=Object(te.a)(["\n  position: absolute;\n  border-bottom: 4px solid ",";\n  border-radius: 3px;\n  width: 15px;\n  left: -3px;\n  top: 50%;\n  transform: translateY(-2px);\n"])),oe.midnight),Sa=ae.b.div(ht||(ht=Object(te.a)(["\n  position: absolute;\n  border-bottom: 4px solid ",";\n  border-radius: 3px;\n  width: 15px;\n  right: -3px;\n  top: 50%;\n  transform: translateY(-2px);\n"])),oe.midnight),Ca=ae.b.div(gt||(gt=Object(te.a)(["\n  border: 4px solid ",";\n  display: flex;\n  flex-direction: column;\n  background: white;\n  position: absolute;\n  width: 500px;\n  padding: 10px 50px;\n  top: 45px;\n  /* text-shadow: 2px 2px 2px ","; */\n"])),oe.midnight,oe.midnight),Ia=ae.b.div(xt||(xt=Object(te.a)(["\n  border-bottom: 2px solid ",';\n  height: 35px;\n  font-family: "Echizen";\n  display: flex;\n  /* justify-content: center; */\n  color: black;\n  text-align: center;\n  font-size: 40px;\n'])),oe.midnight),za=t(52),Na=t.n(za),Ta=function(e,n,t){var a=n.toLowerCase(),o=e.toLowerCase().split(" "),r=Object(Q.a)(o);o.forEach((function(e,n){for(var t="",a=0;a<=n;a++)t=t+" "+o[a];r.push(t.trim())})),o.forEach((function(e,n){var t=o.slice(n);r.push(t.join(" ").trim())}));var i=r.map((function(e){return{searchTerm:e,searchingFor:t,distance:Na()(e,"".concat(a))}}));i=i.sort((function(e,n){return e.distance-n.distance}));var l,c,s=Math.floor(a.length/10*4);return s>5&&(s=5),i[0].distance<s?(l={},Object(f.a)(l,"".concat(t),!0),Object(f.a)(l,"distance",i[0].distance),Object(f.a)(l,"marginOfError",s),l):(c={},Object(f.a)(c,"".concat(t),!1),Object(f.a)(c,"distance",i[0].distance),Object(f.a)(c,"marginOfError",s),c)},Ua=t(53),Ga=t.n(Ua),Aa=t(54),La=t.n(Aa),_a=t(55),Ja=t.n(_a);function Ya(e,n,t){fetch("".concat(Ke,"/validateAnswer"),{method:"PUT",body:JSON.stringify({currentUser:n,roomId:e,correctGuess:t}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))}var Xa,Ha,qa,Da,Ma,Fa,Wa,Ka,Va,Ba,Qa,Za,$a,eo,no,to,ao,oo,ro,io,lo,co,so,uo,mo,po,fo,bo,ho,go,xo,yo,jo,vo,Eo,Oo,wo,ko,Po=function(e){var n=e.wrongRef,t=e.correctRef,a=e.successRef,r=Object(ne.g)().roomId,i=o.a.useContext(m),l=i.currentUser,c=i.correctGuess,s=i.setCorrectGuess,u=o.a.useState(""),p=Object(d.a)(u,2),f=p[0],b=p[1],h=o.a.useState("Prep for the first Jam !"),g=Object(d.a)(h,2),x=g[0],y=g[1],j=o.a.useContext(Z),v=j.gamePhase,E=j.result,O=j.setResult,w=j.trackInfo,k=j.round;return o.a.useEffect((function(){if("loading"===v){if(s({artist:!1,songName:!1}),O(null),b(""),10===k)return void y("Prep for final ranking.");if(0===k)return void y("Prep for the first jam.");y("Prepare for next song.")}"playing"===v&&y("Guess the song/artist.")}),[v,k]),o.a.useEffect((function(){"success"===E&&y("You got the correct answer."),"artist"===E&&y("Now guess the song name."),"songName"===E&&y("Now guess the artist")}),[E]),o.a.useEffect((function(){"fail"===E&&n.current&&n.current.play(),("artist"===E||"songName"===E&&t.current)&&t.current.play(),"success"===E&&a.current&&a.current.play()}),[E,n,t,a]),o.a.createElement(Ro,null,o.a.createElement("audio",{ref:n,src:Ga.a}),o.a.createElement("audio",{ref:t,src:La.a}),o.a.createElement("audio",{ref:a,src:Ja.a}),o.a.createElement(Co,{result:E,value:f,placeholder:x,onChange:function(e){b(e.target.value)},onAnimationEnd:function(e){O(null)},onKeyDown:function(e){if("Enter"===e.key&&"playing"===v&&"success"!==E){var n=w.artist.name.toLowerCase(),t=w.title_short.split("(")[0].toLowerCase().trim(),a=Ta(f,n,"artist"),o=Ta(f,t,"songName"),i=(new Date).getTime();if(b(""),!1===a.artist&&!1===o.songName)return void O("fail");if(a.artist&&o.songName)return O("success"),s({artist:!0,songName:!0}),void Ya(r,l,{artist:!0,songName:!0,timeStamp:i,previousGuess:c});if(a.artist)return!0===c.songName&&!1===c.artist?(O("success"),s({artist:!0,songName:!0}),void Ya(r,l,{artist:!0,songName:!0,timeStamp:i,previousGuess:c})):(O("artist"),s({artist:!0,songName:!1}),void Ya(r,l,{artist:!0,songName:!1,timeStamp:null,previousGuess:c}));if(o.songName)return!1===c.songName&&!0===c.artist?(O("success"),s({artist:!0,songName:!0}),void Ya(r,l,{artist:!0,songName:!0,timeStamp:i,previousGuess:c})):(O("songName"),s({artist:!1,songName:!0}),void Ya(r,l,{artist:!1,songName:!0,timeStamp:null,previousGuess:c}))}}}))},Ro=ae.b.div(yt||(yt=Object(te.a)(["\n  width: 100%;\n"]))),So=Object(ae.c)(jt||(jt=Object(te.a)(["\n0%{\n  transform: translateX(0)\n}\n20%{\n  transform: translateX(15px)\n}\n40%{\n  transform: translateX(0px)\n}\n60%{\n  transform: translateX(-15px)\n}\n100%{\n  transform: translateX(0px)\n}\n"]))),Co=ae.b.input(vt||(vt=Object(te.a)(["\n  width: 100%;\n  height: 55px;\n  color: black;\n  border-radius: 40px;\n  border: none;\n  text-align: left;\n  font-size: 40px;\n  padding: 0 30px;\n  margin-top: 10px;\n\n  &::placeholder {\n    color: ",";\n  }\n\n  :focus {\n    outline: none;\n  }\n\n  animation: "," 500ms\n    ease-in-out;\n"])),(function(e){return"success"===e.result?" #34eb98":"#eadaf0"}),(function(e){return"fail"===e.result?So:null})),Io=function(){var e=Object(ne.g)().roomId,n=o.a.useContext(Z),t=n.historyArray,a=n.round,r=n.setRoomId;return o.a.useEffect((function(){r(e)}),[e,r]),o.a.createElement(zo,null,o.a.createElement(je,null,"Previous Songs:"),o.a.createElement(To,null,o.a.createElement(Uo,null,"Round: ",a<10?a+1:a,"/10"),t.map((function(e,n){if(n<a)return o.a.createElement(Go,{key:e.title_short+n},o.a.createElement(Ao,{src:e.album.cover_medium}),o.a.createElement(Lo,null,o.a.createElement(_o,null,e.title_short),o.a.createElement(Jo,null,e.artist.name)))})).reverse()))},zo=ae.b.div(Xa||(Xa=Object(te.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  font-size: 30px;\n  margin-bottom: 50px;\n  padding-right: 30px;\n"]))),No=Object(ae.c)(Ha||(Ha=Object(te.a)(["\n0%{\n  opacity: 0;\n  transform: translateY(-100%)\n\n}100%{\n  opacity: 1;\n  transform: translateY(0)\n\n}"]))),To=ae.b.div(qa||(qa=Object(te.a)(["\n  border-radius: 10px;\n  padding: 10px;\n  font-size: 30px;\n  width: 100%;\n  min-height: 100px;\n  background: transparent;\n  transition: 500ms;\n"]))),Uo=ae.b.div(Da||(Da=Object(te.a)(["\n  width: 100%;\n  \n  font-size: 20px;\n  margin-bottom: 15px;\n"]))),Go=ae.b.div(Ma||(Ma=Object(te.a)(["\n  display: flex;\n  margin-top: 15px;\n  margin-bottom: 5px;\n  animation: "," 800ms ease-in-out;\n  transform-origin: left;\n"])),No),Ao=ae.b.img(Fa||(Fa=Object(te.a)(["\n  width: 75px;\n  height: 75px;\n  margin-right: 10px;\n  border-radius: 50%;\n"]))),Lo=ae.b.div(Wa||(Wa=Object(te.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),_o=ae.b.span(Ka||(Ka=Object(te.a)([""]))),Jo=ae.b.span(Va||(Va=Object(te.a)([""]))),Yo=function(){var e=o.a.useContext(m),n=e.usersList,t=e.setCurrentRoomId,a=e.currentUser,r=e.currentTrackGuesses,i=Object(ne.g)().roomId;return o.a.useEffect((function(){t(i)}),[i]),o.a.createElement(Xo,null,o.a.createElement(je,null,"Ranking: "),o.a.createElement(Ho,null,n.map((function(e,n){return o.a.createElement(qo,{key:e.playerId},o.a.createElement(Do,null,o.a.createElement(Fo,null,n+1,"."),o.a.createElement(Mo,null,o.a.createElement(Zo,null,"host"===e.role?o.a.createElement(Wo,{style:{color:"".concat(a.playerId===e.playerId?oe.midnight:"black")}},o.a.createElement(En.a,null)):null,o.a.createElement(Vo,{style:{color:"".concat(a.playerId===e.playerId?oe.midnight:"black")}},e.nickName)),o.a.createElement(Qo,null,"Guessed:"," ",r&&r["".concat(e.playerId)]&&o.a.createElement("span",null,(t=r["".concat(e.playerId)],console.log(t),t.artist&&t.songName?"in ".concat(t.time.toFixed(2)," seconds"):t.artist?"The artist":t.songName?"The song's name ":void 0))))),o.a.createElement(Bo,null,o.a.createElement(Ko,null,e.points,"pts.")));var t}))))},Xo=ae.b.div(Ba||(Ba=Object(te.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  font-size: 30px;\n  margin-bottom: 50px;\n  padding-right: 30px;\n"]))),Ho=ae.b.div(Qa||(Qa=Object(te.a)(["\n  border-radius: 10px;\n  padding: 10px;\n  font-size: 30px;\n  width: 100%;\n  background: transparent;\n  transition: 500ms;\n"]))),qo=ae.b.div(Za||(Za=Object(te.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin: 5px 0px;\n"]))),Do=ae.b.div($a||($a=Object(te.a)(["\n  display: flex;\n  max-width: 80%;\n"]))),Mo=ae.b.div(eo||(eo=Object(te.a)([""]))),Fo=ae.b.h1(no||(no=Object(te.a)(["\n  font-size: 40px;\n  font-weight: 800;\n  margin-right: 5px;\n  display: flex;\n  align-items: center;\n"]))),Wo=ae.b.div(to||(to=Object(te.a)(["\n  width: fit-content;\n  margin-top: 5px;\n"]))),Ko=ae.b.div(ao||(ao=Object(te.a)(["\n  display: flex;\n  align-items: center;\n"]))),Vo=ae.b.div(oo||(oo=Object(te.a)(["\n  display: flex;\n  align-items: center;\n"]))),Bo=ae.b.div(ro||(ro=Object(te.a)(["\n  display: flex;\n"]))),Qo=ae.b.div(io||(io=Object(te.a)(["\n  font-size: 20px;\n"]))),Zo=ae.b.div(lo||(lo=Object(te.a)(["\n  display: flex;\n"]))),$o=t(38),er=function(){var e=Object(_e.a)(Le.a.mark((function e(n){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Ke,"/updatePhase"),{method:"PUT",body:JSON.stringify({roomId:n,currentPhase:"playing"}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return console.log(e)}));case 2:fetch("".concat(Ke,"/updateRound?roomId=").concat(n),{method:"GET",headers:{accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),nr=ae.b.div(co||(co=Object(te.a)(["\n  margin-top: 100px;\n  display: flex;\n  flex-direction: column;\n  padding: 0 40px;\n"]))),tr=ae.b.audio(so||(so=Object(te.a)([""]))),ar=ae.b.div(uo||(uo=Object(te.a)(["\n  margin-top: 20px;\n  width: 100%;\n  display: grid;\n  grid-template-columns: 50% 50%;\n"]))),or=function(){var e=Object(ne.g)().roomId,n=o.a.useContext(Z),t=n.trackUrl,a=n.setTrackUrl,r=n.gamePhase,i=n.setGamePhase,c=n.setTrackInfo,s=n.round,u=o.a.useContext(m).currentUser,p=o.a.useState(5),f=Object(d.a)(p,2),b=f[0],h=f[1],g=o.a.useState(.5),x=Object(d.a)(g,2),y=x[0],j=x[1],v=o.a.useRef(null),E=o.a.useRef(null),O=o.a.useRef(null),w=o.a.useRef(null);return o.a.useEffect((function(){v.current.volume=y,E.current&&(E.current.volume=2*y<=1?2*y:1),O.current&&(O.current.volume=2*y<=1?2*y:1),w.current&&(w.current.volume=1.2*y<=1?1.2*y:1)}),[v,E,O,w,y]),o.a.useEffect((function(){var n=$o.b((function(){b>0&&h(b-1)}),1e3);return 0===b&&"loading"===r&&"host"===u.role&&fetch("".concat(Ke,"/updatePhase"),{method:"PUT",body:JSON.stringify({currentPhase:"loading",roomId:e}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e)})),0===b&&"playing"===r&&"host"===u.role&&er(e),function(){$o.a(n)}}),[b,r]),o.a.useEffect((function(){return l.database().ref("Rooms/".concat(e,"/phase")).on("value",(function(e){var n=e.val();if("playing"===n){if(s>9)return void i(n);h(30),v.current.play(),console.log("playtrack")}"loading"===n&&(h(5),v.current.pause(),console.log("stopTrack")),i(n)})),function(){l.database().ref("Rooms/".concat(e,"/phase")).off()}}),[e,s]),o.a.useEffect((function(){"loading"===r&&"host"===u.role&&(console.log("in fetch track"),fetch("".concat(Ke,"/updateCurrentTrack"),{method:"PUT",body:JSON.stringify({roomId:e}),headers:{Accept:"applicatition/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e)})))}),[r]),o.a.useEffect((function(){var n=l.database().ref("/Rooms/".concat(e,"/currentTrack/trackInfo"));return n.on("value",(function(e){var n=e.val();n&&(c(n),a(n.preview))})),function(){n.off()}}),[e]),o.a.createElement(nr,null,o.a.createElement(At,{volume:y,setVolume:j}),o.a.createElement(tr,{src:t,ref:v},"I'm sorry, your browser doesn't support audio"),o.a.createElement(Po,{wrongRef:E,correctRef:O,successRef:w}),o.a.createElement(oa,{time:b}),o.a.createElement(da,{time:b}),o.a.createElement(ar,null,o.a.createElement(Io,null),o.a.createElement(Yo,null)))},rr=function(){var e=o.a.useContext(m),n=e.usersList,t=e.setCurrentRoomId,a=e.currentUser,r=o.a.useContext(Z),i=r.setRound,l=r.setHistoryArray,c=r.setGameStarted,s=Object(ne.g)().roomId,u=o.a.useContext(h),d=u.location,p=u.deletePlaylist,f=Object(ne.f)();return o.a.useEffect((function(){return"gameRoom"!==d&&f.push("/lobby/".concat(s)),function(){i(0),p(),l([]),c(!1)}}),[d,s]),o.a.useEffect((function(){t(s)}),[s]),o.a.createElement(ir,null,o.a.createElement(lr,null,"Here is the final ranking !"),o.a.createElement(cr,null,n.map((function(e,n){return o.a.createElement(sr,{key:e.playerId},o.a.createElement(ur,null,o.a.createElement(mr,null,n+1,"."),o.a.createElement(dr,null,o.a.createElement(gr,null,"host"===e.role?o.a.createElement(pr,{style:{color:"".concat(a.playerId===e.playerId?oe.midnight:"black")}},o.a.createElement(En.a,null)):null,o.a.createElement(br,{style:{color:"".concat(a.playerId===e.playerId?oe.midnight:"black")}},e.nickName)))),o.a.createElement(hr,null,o.a.createElement(fr,null,e.points,"pts.")))}))),"host"===a.role?o.a.createElement(xr,null,o.a.createElement(ve,{handler:function(){fetch("".concat(Ke,"/").concat(s,"/lobbyReset"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))}},"Return to Lobby"),o.a.createElement(ve,{handler:function(){fetch("".concat(Ke,"/").concat(s,"/GameReset"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))}},"Restart Game")):o.a.createElement(lr,null,"Plase wait for the host to choose to return to the lobby or to restart game."))},ir=ae.b.div(mo||(mo=Object(te.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n"]))),lr=ae.b.h1(po||(po=Object(te.a)(["\n  \n  font-size: 60px;\n  \n  color: #fff0c3;\n  margin: 20px 0px;\n"]))),cr=ae.b.div(fo||(fo=Object(te.a)(['\n  border-radius: 10px;\n  padding: 10px;\n  font-size: 30px;\n  width: 50%;\n  background: transparent;\n  transition: 500ms;\n  text-shadow: none;\n  color: black;\n  font-family: "";\n']))),sr=ae.b.div(bo||(bo=Object(te.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin: 5px 0px;\n"]))),ur=ae.b.div(ho||(ho=Object(te.a)(["\n  display: flex;\n  max-width: 80%;\n"]))),dr=ae.b.div(go||(go=Object(te.a)([""]))),mr=ae.b.h1(xo||(xo=Object(te.a)(["\n  font-size: 40px;\n  font-weight: 800;\n  margin-right: 5px;\n  display: flex;\n  align-items: center;\n"]))),pr=ae.b.div(yo||(yo=Object(te.a)(["\n  width: fit-content;\n  margin-top: 5px;\n"]))),fr=ae.b.div(jo||(jo=Object(te.a)(["\n  display: flex;\n  align-items: center;\n"]))),br=ae.b.div(vo||(vo=Object(te.a)(["\n  display: flex;\n  align-items: center;\n"]))),hr=ae.b.div(Eo||(Eo=Object(te.a)(["\n  display: flex;\n"]))),gr=ae.b.div(Oo||(Oo=Object(te.a)(["\n  display: flex;\n"]))),xr=ae.b.div(wo||(wo=Object(te.a)(["\n  display: flex;\n  justify-content: space-evenly;\n  width: 100%;\n  margin: 20px 0px;\n"]))),yr=function(){var e=o.a.useContext(Z),n=e.round,t=e.gamePhase,a=e.gameRoomExists,r=e.setGameRoomExists,i=e.setGameStarted,c=o.a.useContext(m),s=c.currentUser,u=c.isHostPresent,d=Object(ne.f)(),p=Object(ne.g)().roomId;return console.log(a),o.a.useEffect((function(){l.database().ref("Rooms/".concat(p)).on("value",(function(e){r(e.exists())}))}),[p]),o.a.useEffect((function(){return console.log(d.action),function(){"POP"===d.action&&(d.push("/"),window.location.replace("/"))}}),[d]),o.a.useEffect((function(){i(!0)}),[]),!1===a?o.a.createElement(Vt,{title:"404 - Room not found",message:"We're sorry, we couldn't find the room you are trying to join"}):!1===u?o.a.createElement(Vt,{title:"The host has left",message:"We're sorry, the host has left and the game has ended. Return to the homepage to start a new game."}):!s&&a?o.a.createElement(o.a.Fragment,null,d.push("/lobby/".concat(p))):n>9&&"playing"===t&&!0===a?o.a.createElement(rr,null):o.a.createElement(o.a.Fragment,null,!0===a&&!0===u&&s?o.a.createElement(or,null):o.a.createElement(we,{size:50,color:"lightgrey"}))},jr=Object(ae.a)(ko||(ko=Object(te.a)(["\n*{\n  box-sizing:border-box;\n  font-family: \"Roboto Condensed\", sans-serif;\n  /* font-family:'Echizen'; */\n  /* color: black; */\n}\n\nbody{\n  background: ","\n}\n\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed, \nfigure, figcaption, footer, header, hgroup, \nmenu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tfont-size: 100%;\n\t/* font: inherit; */\n\tvertical-align: baseline;\n}\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure, \nfooter, header, hgroup, menu, nav, section {\n\tdisplay: block;\n}\nbody {\n\tline-height: 1;\n}\nol, ul {\n\tlist-style: none;\n}\nblockquote, q {\n\tquotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n\tcontent: '';\n\tcontent: none;\n}\ntable {\n\tborder-collapse: collapse;\n\tborder-spacing: 0;\n}\n"])),oe.main),vr=function(){return o.a.createElement(ee.a,null,o.a.createElement(pe,null,o.a.createElement(ge,null),o.a.createElement(ne.c,null,o.a.createElement(ne.a,{exact:!0,path:"/"},o.a.createElement(Te,{buttonHandler:Ue,buttonMessage:"Create Room"})),o.a.createElement(ne.a,{path:"/lobby/:roomId"},o.a.createElement(aa,null)),o.a.createElement(ne.a,{path:"/gameroom/:roomId"},o.a.createElement(yr,null))),o.a.createElement(jr,null)))};i.a.render(o.a.createElement(u,null,o.a.createElement(p,null,o.a.createElement(B,null,o.a.createElement($,null,o.a.createElement(vr,null))))),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.364ac264.chunk.js.map